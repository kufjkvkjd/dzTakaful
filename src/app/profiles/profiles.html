<div class="container mt-5">
  <h2 class="text-center mb-4">๐ ูุงุฆูุฉ ุงูุจุฑููุงููุงุช</h2>

  <div class="d-grid gap-2 mb-4">
    <button type="button" class="btn btn-primary" (click)="loadProfiles()">๐ฅ ุนุฑุถ ูู ุงูุจุฑููุงููุงุช</button>
  </div>

  <div *ngIf="profiles.length > 0" class="table-responsive">
    <table class="table table-bordered table-striped align-middle text-center" style="background-color: #fff;">
      <thead class="table-warning align-middle text-center">
        <tr>
          <th>๐ค ุงูุฏูุฑ</th>
          <th>๐ ุงูุนููุงู</th>
          <th>๐ ุงููุงุชู</th>
          <th>๐ชช ุฑูู ุงูุจุทุงูุฉ ุงููุทููุฉ</th>
          <th>๐ผ๏ธ ุตูุฑุฉ ุงูุจุทุงูุฉ ุงููุทููุฉ</th>
          <th>๐ฆ RIB</th>
          <th>๐ฉบ ุงูููู ุงูุทุจู</th>
          <th>๐ข ุงุณู ุงููุคุณุณุฉ</th>
          <th>๐ท๏ธ ุฑูู ุงูุณุฌู ุงูุชุฌุงุฑู</th>
          <th>๐ ูุณุฎุฉ ุงูุณุฌู ุงูุชุฌุงุฑู</th>
          <th>๐ ูุซุงุฆู ุฅุซุจุงุช ุงููุดุงุท</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of profiles">
          <td>
            <span *ngIf="p.role === 'admin'">ุฃุฏูู</span>
            <span *ngIf="p.role === 'individual'">ุฃูุฑุงุฏ</span>
            <span *ngIf="p.role === 'professional'">ูููููู</span>
            <span *ngIf="p.role === 'entreprise'">ูุคุณุณุงุช</span>
            <span *ngIf="!p.role">ุบูุฑ ูุญุฏุฏ</span>
          </td>

          <td>{{ p.address || 'ุบูุฑ ูุชููุฑ' }}</td>
          <td>{{ p.phone || 'ุบูุฑ ูุชููุฑ' }}</td>
          <td>{{ p.national_id_number || 'ุบูุฑ ูุชููุฑ' }}</td>

          <td>
            <a *ngIf="p.national_card_image" class="btn btn-sm btn-outline-secondary" [href]="'http://localhost:8000/storage/' + p.national_card_image" target="_blank" download>ุชุญููู</a>
            <span *ngIf="!p.national_card_image">-</span>
          </td>

          <td>
            <span *ngIf="p.role === 'individual'">{{ p.rib || 'ุบูุฑ ูุชููุฑ' }}</span>
            <span *ngIf="p.role !== 'individual'">-</span>
          </td>

          <td>
            <a *ngIf="p.role === 'individual' && p.medical_report" class="btn btn-sm btn-outline-secondary" [href]="'http://localhost:8000/storage/' + p.medical_report" target="_blank" download>ุชุญููู</a>
            <span *ngIf="p.role === 'individual' && !p.medical_report">ูุง ููุฌุฏ</span>
            <span *ngIf="p.role !== 'individual'">-</span>
          </td>

          <td>
            <span *ngIf="p.role === 'professional' || p.role === 'entreprise'">{{ p.establishment_name || 'ุบูุฑ ูุชููุฑ' }}</span>
            <span *ngIf="p.role !== 'professional' && p.role !== 'entreprise'">-</span>
          </td>

          <td>
            <span *ngIf="p.role === 'professional' || p.role === 'entreprise'">{{ p.nrc|| 'ุบูุฑ ูุชููุฑ' }}</span>
            <span *ngIf="p.role !== 'professional' && p.role !== 'entreprise'">-</span>
          </td>

          <td>
            <a *ngIf="p.commercial_register_copy" class="btn btn-sm btn-outline-secondary" [href]="'http://localhost:8000/storage/' + p.commercial_register_copy" target="_blank" download>ุชุญููู</a>
            <span *ngIf="!p.commercial_register_copy">-</span>
          </td>

          <td>
            <a *ngIf="p.role === 'entreprise' && p.activity_proof_documents" class="btn btn-sm btn-outline-secondary" [href]="'http://localhost:8000/storage/' + p.activity_proof_documents" target="_blank" download>ุชุญููู</a>
            <span *ngIf="p.role === 'entreprise' && !p.activity_proof_documents">ูุง ุชูุฌุฏ</span>
            <span *ngIf="p.role !== 'entreprise'">-</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
